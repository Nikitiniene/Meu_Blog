[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Meu_Blog",
    "section": "",
    "text": "Cotação do Dólar\n\n\n\nAPI\n\ncode\n\npython\n\n\n\n\n\n\n\n\n\nNov 24, 2025\n\n\nMatheus\n\n\n\n\n\n\n\n\n\n\n\n\nMonitoramento da Frota de Ônibus\n\n\n\nAPI\n\ncode\n\npython\n\n\n\n\n\n\n\n\n\nNov 24, 2025\n\n\nMatheus\n\n\n\n\n\n\n\n\n\n\n\n\nWelcome To My Blog\n\n\n\nnews\n\n\n\n\n\n\n\n\n\nNov 21, 2025\n\n\nTristan O’Malley\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/post-with-code/index.html",
    "href": "posts/post-with-code/index.html",
    "title": "Cotação do Dólar",
    "section": "",
    "text": "Neste post, desenvolvi uma rotina em Python capaz de consultar o valor do dólar em todos os dias do mês de Novembro de 2012.\nPrimeiramente, fiz a importação das bibliotecas para auxiliar na consulta da API, e para a contabilidade em questão de dias do calendário:\n\nimport requests\nimport pandas as pd\nimport calendar\nfrom datetime import datetime, timedelta\nimport plotly.express as px\n\nAbaixo, está a função “cotar_dia”, que recebe a data no formato MMDDYYYY. A API retornará vazio se for feriado, sábado ou domingo, então nesse caso usa-se a recursão (quando a função chama a si mesmo), com o intuito de pegar o dia anterior. Além disso, utiliza-se datas convertendo em string: strptime e strftime.\n\ndef cotar_dia(data):\n    url = (\n        \"https://olinda.bcb.gov.br/olinda/servico/PTAX/versao/v1/odata/\"\n        f\"CotacaoDolarDia(dataCotacao=@dataCotacao)?@dataCotacao='{data}'&$format=json\"\n    )\n    res = requests.get(url).json()\n\n    if res[\"value\"]:\n        return res[\"value\"][0][\"cotacaoVenda\"]\n\n    dia_anterior = datetime.strptime(data, \"%m%d%Y\") - timedelta(1)\n    dia_anterior = datetime.strftime(dia_anterior, \"%m%d%Y\")\n\n    return cotar_dia(dia_anterior)\n\nNas próximas linhas, a função cotacao_mes recebe “data_string” como parâmetro, e então produz o gráfico do mês completo, incluindo finais de semana e os feriados. Continuamente, temos o retorno em forma de gráfico com apoio do “show()”, em que se executa visualmente os valores de cada dia de Novembro de 2012.\n\ndef cotacao_mes(data_string):\n\n    first_date = datetime.strptime(data_string, \"%m%Y\")\n    last_day = calendar.monthrange(first_date.year, first_date.month)[1]\n    last_date = first_date.replace(day=last_day)\n\n    dias = pd.date_range(first_date, last_date)\n\n    dados = []\n    for d in dias:\n        data_str = d.strftime(\"%m%d%Y\")\n        valor = cotar_dia(data_str)\n        dados.append([d.date(), valor])\n\n    df = pd.DataFrame(dados, columns=[\"data\", \"cotacao\"])\n\n    fig = px.line(df, x=\"data\", y=\"cotacao\",\n                  title=f\"Cotação do Dólar(Novembro/2012) – {data_string[:2]}/{data_string[2:]}\")\n    fig.show()\n\n    return df\n\nEm seguida, temos a execução do código.\n\ncotacao_mes(\"112012\")\n\n                            \n                                            \n\n\n\n\n\n\n\n\n\ndata\ncotacao\n\n\n\n\n0\n2012-11-01\n2.0312\n\n\n1\n2012-11-02\n2.0312\n\n\n2\n2012-11-03\n2.0312\n\n\n3\n2012-11-04\n2.0312\n\n\n4\n2012-11-05\n2.0350\n\n\n5\n2012-11-06\n2.0341\n\n\n6\n2012-11-07\n2.0330\n\n\n7\n2012-11-08\n2.0357\n\n\n8\n2012-11-09\n2.0512\n\n\n9\n2012-11-10\n2.0512\n\n\n10\n2012-11-11\n2.0512\n\n\n11\n2012-11-12\n2.0476\n\n\n12\n2012-11-13\n2.0614\n\n\n13\n2012-11-14\n2.0629\n\n\n14\n2012-11-15\n2.0629\n\n\n15\n2012-11-16\n2.0712\n\n\n16\n2012-11-17\n2.0712\n\n\n17\n2012-11-18\n2.0712\n\n\n18\n2012-11-19\n2.0745\n\n\n19\n2012-11-20\n2.0835\n\n\n20\n2012-11-21\n2.0924\n\n\n21\n2012-11-22\n2.0912\n\n\n22\n2012-11-23\n2.0985\n\n\n23\n2012-11-24\n2.0985\n\n\n24\n2012-11-25\n2.0985\n\n\n25\n2012-11-26\n2.0787\n\n\n26\n2012-11-27\n2.0752\n\n\n27\n2012-11-28\n2.0912\n\n\n28\n2012-11-29\n2.0991\n\n\n29\n2012-11-30\n2.1074"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "This is the first post in a Quarto blog. Welcome!\n\nSince this post doesn’t specify an explicit image, the first image in the post will be used in the listing page of posts."
  },
  {
    "objectID": "posts/post-with-code/index2.html",
    "href": "posts/post-with-code/index2.html",
    "title": "Monitoramento da Frota de Ônibus",
    "section": "",
    "text": "import requests\nimport folium\n\nTOKEN = \"c1480313dbd75eff5f3187a5dae0c569ff69e2b55f4781ed07d37cfb9d442a46\"\nLINHA = 4310\n\nsessao = requests.Session()\nsessao.post(f\"http://api.olhovivo.sptrans.com.br/v2.1/Login/Autenticar?token={TOKEN}\")\n\nparadas = sessao.get(f\"http://api.olhovivo.sptrans.com.br/v2.1/Parada/BuscarParadasPorLinha?codigoLinha={LINHA}\").json()\n\nposicoes = sessao.get(\"http://api.olhovivo.sptrans.com.br/v2.1/Posicao\").json()\n\nonibus_linha = []\nfor linha in posicoes[\"l\"]:\n    if linha[\"cl\"] == LINHA:\n        onibus_linha = linha[\"vs\"]\n        break\n\ncentro = [paradas[0][\"py\"], paradas[0][\"px\"]] if paradas else [-23.55, -46.63]\nmapa = folium.Map(location=centro, zoom_start=13)\n\nfor p in paradas:\n    folium.Marker([p[\"py\"], p[\"px\"]], popup=p[\"np\"], icon=folium.Icon(color=\"blue\")).add_to(mapa)\n\nfor b in onibus_linha:\n    folium.Marker([b[\"py\"], b[\"px\"]], popup=f\"Prefixo: {b['p']}\", icon=folium.Icon(color=\"red\", icon=\"bus\")).add_to(mapa)\n\nmapa.save(\"mapa_onibus.html\")"
  }
]